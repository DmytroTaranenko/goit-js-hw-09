{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst formData = {\n    email: '',\n    message: ''\n};\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', e => {\n    e.preventDefault();\n    const userFormData = new FormData(form)\n    const email = userFormData.get('email')\n    const message = userFormData.get('message')\n    formData.email = email;\n    formData.message = message;\n    saveToLS(STORAGE_KEY, formData);\n});\n\nwindow.addEventListener('DOMContentLoaded', e => {\n    const dataLS = loadFromLS(STORAGE_KEY)\n    form.elements.email.value = dataLS?.email || ''\n    form.elements.message.value = dataLS?.message || ''\n})\n\nform.addEventListener('submit', e => {\n    e.preventDefault()\n    if (form.email.value === '' || form.message.value === '') {\n    alert('Fill please all fields');\n    return;\n  }\n    const userFormData = new FormData(form)\n    const email = userFormData.get('email').trim()\n    const message = userFormData.get('message').trim()\n    formData.email = email\n    formData.message = message\n    form.reset()\n    console.log(formData);\n    localStorage.removeItem(STORAGE_KEY)\n    formData.email = ''\n    formData.message = ''\n});\n\n\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n    const jsonValue = localStorage.getItem(key)\n    try {\n        const data = JSON.parse(jsonValue)\n        return data\n    } catch (error) {\n        console.log(error);\n    }\n}"],"names":["STORAGE_KEY","formData","form","e","userFormData","email","message","saveToLS","dataLS","loadFromLS","key","value","jsonData","jsonValue","error"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,GAAK,CAChCA,EAAE,eAAc,EAChB,MAAMC,EAAe,IAAI,SAASF,CAAI,EAChCG,EAAQD,EAAa,IAAI,OAAO,EAChCE,EAAUF,EAAa,IAAI,SAAS,EAC1CH,EAAS,MAAQI,EACjBJ,EAAS,QAAUK,EACnBC,EAASP,EAAaC,CAAQ,CAClC,CAAC,EAED,OAAO,iBAAiB,mBAAoBE,GAAK,CAC7C,MAAMK,EAASC,EAAWT,CAAW,EACrCE,EAAK,SAAS,MAAM,OAAQM,GAAA,YAAAA,EAAQ,QAAS,GAC7CN,EAAK,SAAS,QAAQ,OAAQM,GAAA,YAAAA,EAAQ,UAAW,EACrD,CAAC,EAEDN,EAAK,iBAAiB,SAAUC,GAAK,CAEjC,GADAA,EAAE,eAAgB,EACdD,EAAK,MAAM,QAAU,IAAMA,EAAK,QAAQ,QAAU,GAAI,CAC1D,MAAM,wBAAwB,EAC9B,MACD,CACC,MAAME,EAAe,IAAI,SAASF,CAAI,EAChCG,EAAQD,EAAa,IAAI,OAAO,EAAE,KAAM,EACxCE,EAAUF,EAAa,IAAI,SAAS,EAAE,KAAM,EAClDH,EAAS,MAAQI,EACjBJ,EAAS,QAAUK,EACnBJ,EAAK,MAAO,EACZ,QAAQ,IAAID,CAAQ,EACpB,aAAa,WAAWD,CAAW,EACnCC,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACvB,CAAC,EAID,SAASM,EAASG,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASH,EAAWC,EAAK,CACrB,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,GAAI,CAEA,OADa,KAAK,MAAMG,CAAS,CAEpC,OAAQC,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACL"}